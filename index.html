<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=false" />
    <title>potato</title>
    <script src="./lib/hydra-synth.js"></script>
    <script src="./lib/gyro.js"></script>
    <styLe>
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: black;
        }

        canvas {
            display: block;
        }
    </styLe>
</head>

<body>
    <script type="module">
        const h = new Hydra()
        
// licensed with CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/
// initialise camera in variable s0
s0.initCam()


src(s0).color(1,0.5,1).invert(()=>Math.sin(time)*2).modulateKaleid(osc(200).kaleid(999),2).modulateScale(osc(4,-0.5,0).kaleid(50).scale(0.5),15,0).repeat(1, 4.0, 0.0, 0.0)
.rotate( () => time%30 ).out()


src(s0).out()

osc(60,-0.015,1).diff(osc(60,0.08).rotate(Math.PI/2))
.modulateScale(noise(3.5,0.25).modulateScale(osc(15).rotate(()=>Math.sin(time/2))),0.6)
.color(-1,0.5,0.8).contrast(1.4)
.add(src(o0).modulate(o0,.04),.6)
.invert().brightness(0.1).contrast(1.2)
.modulateScale(osc(2),-0.2)
.out()




src(o0)
	.blend(s0, 0.04)
	//.scale(1.01)
	.modulate(o0, 0.001)
	.contrast(1.02)


src(s0).diff(o0).out()





        gyro.requestPermissions(document.getElementById('gyro-button'))
        gyro.show()

    </script>
    <button id="gyro-button">activate gyroscope</button>
</body>

</html>